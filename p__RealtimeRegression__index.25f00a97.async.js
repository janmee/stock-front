"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[838],{34823:function(ke,H,r){r.r(H);var y=r(97857),T=r.n(y),le=r(15009),U=r.n(le),ce=r(99289),Y=r.n(ce),de=r(5574),b=r.n(de),O=r(67294),J=r(48096),D=r(8232),L=r(2453),I=r(83622),Q=r(46496),B=r(4393),K=r(55102),me=r(71230),q=r(15746),Z=r(55054),ee=r(80652),te=r(2618),fe=r(27484),P=r.n(fe),a=r(85893),ne=J.Z.TabPane,_e=function(){var he=D.Z.useForm(),i=b()(he,1),l=i[0],m=D.Z.useForm(),s=b()(m,1),d=s[0],x=(0,O.useState)(!1),g=b()(x,2),f=g[0],_=g[1],C=(0,O.useState)(null),S=b()(C,2),p=S[0],h=S[1],R=(0,O.useState)(""),W=b()(R,2),A=W[0],w=W[1],ve=(0,O.useState)(""),ae=b()(ve,2),pe=ae[0],z=ae[1],ye=(0,O.useState)([]),se=b()(ye,2),E=se[0],Pe=se[1],ge=(0,O.useState)([]),re=b()(ge,2),V=re[0],ie=re[1],Ee=(0,O.useState)(null),Te=b()(Ee,2),xe=Te[0],Oe=Te[1],Ue=(0,O.useState)(!1),Be=b()(Ue,2),$=Be[0],Me=Be[1],Le=function(){var o=Y()(U()().mark(function t(e){var n;return U()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,_(!0),Me(!1),u.next=5,(0,te.eS)(e.stockCode,parseFloat(e.sellProfitPercentage),{});case 5:n=u.sent,Fe(n),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(0),Ie(u.t0);case 12:return u.prev=12,_(!1),u.finish(12);case 15:case"end":return u.stop()}},t,null,[[0,9,12,15]])}));return function(e){return o.apply(this,arguments)}}(),Ke=function(){var o=Y()(U()().mark(function t(e){var n;return U()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,_(!0),Me(!0),u.next=5,(0,te.S9)(parseFloat(e.marketCap),parseFloat(e.sellProfitPercentage),{});case 5:n=u.sent,Fe(n),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(0),Ie(u.t0);case 12:return u.prev=12,_(!1),u.finish(12);case 15:case"end":return u.stop()}},t,null,[[0,9,12,15]])}));return function(e){return o.apply(this,arguments)}}(),Fe=function(t){if(t.success){if(t.data.stockResults){var e,n,c=t.data.stockResults||[],u=t.data.totalStocks||0,X=t.data.successStocks||0;Oe(t.data.indexData||{});var ue=Object.keys(t.data.indexData||{});if(ue.length>0){var Re=ue[0];Ce(Re,t.data.indexData[Re])}var be=[];(e=t.data.indexData)!==null&&e!==void 0&&e.nasdaq&&t.data.indexData.nasdaq.forEach(function(v){be.push({time:P()(v.timestamp).format("HH:mm"),value:v.change,type:"\u7EB3\u65AF\u8FBE\u514B\u6307\u6570"})}),(n=t.data.indexData)!==null&&n!==void 0&&n.spx&&t.data.indexData.spx.forEach(function(v){be.push({time:P()(v.timestamp).format("HH:mm"),value:v.change,type:"\u6807\u666E500\u6307\u6570"})}),ie(be);var Xe=c.map(function(v){var F=v.dailyResults||[],N=v.stockCode,G=F.filter(function(k){return k.buyPoints&&k.buyPoints.length>0}).length,j=F.filter(function(k){return k.buyPoints&&k.buyPoints.length>0&&k.sellPoints&&k.sellPoints.length>0}).length,qe=G>0?j/G*100:0;return{date:N,stockCode:N,hasBuyPoint:G>0,hasSoldSameDay:j>0,success:j>0,successRate:qe,details:F.map(function(k){return{date:k.date,stockCode:N,buyPoints:k.buyPoints||[],sellPoints:k.sellPoints||[],minuteData:k.minuteData||[]}})}}),Ae=c.filter(function(v){return v.dailyResults.some(function(F){return F.buyPoints&&F.buyPoints.length>0})}).length,Ge=c.reduce(function(v,F){var N=F.dailyResults.filter(function(j){return j.buyPoints&&j.buyPoints.length>0}).length,G=F.dailyResults.filter(function(j){return j.buyPoints&&j.buyPoints.length>0&&j.sellPoints&&j.sellPoints.length>0}).length;return v+(N>0?G/N*100:0)},0),Ye=Ae>0?Ge/Ae:0;h({totalTradingDays:u,successDays:X,successRate:Ye,avgHoldingTime:0,dailyResults:Xe}),L.ZP.success("\u5E02\u503C\u7B5B\u9009\u56DE\u5F52\u6D4B\u8BD5\u5B8C\u6210");return}var M=t.data.dailyResults||[],De=M.filter(function(v){return v.buyPoints&&v.buyPoints.length>0}).length,He=M.filter(function(v){return v.buyPoints&&v.buyPoints.length>0&&v.sellPoints&&v.sellPoints.length>0}).length,Je=De>0?He/De*100:0,Qe=t.data.avgHoldingTime||0;if(Oe(t.data.indexData||{}),M&&M.length>0){var Se=M[0].date;t.data.indexData&&t.data.indexData[Se]&&Ce(Se,t.data.indexData[Se])}h(T()(T()({},t.data),{},{totalTradingDays:De,successDays:He,successRate:Je,avgHoldingTime:Qe})),M&&M.length>0&&(w(M[0].date),oe(M[0])),L.ZP.success("\u56DE\u5F52\u6D4B\u8BD5\u5B8C\u6210")}else L.ZP.error(t.errorMessage||"\u56DE\u5F52\u6D4B\u8BD5\u5931\u8D25")},Ie=function(t){var e,n,c=t;L.ZP.error(((e=c.response)===null||e===void 0||(e=e.data)===null||e===void 0?void 0:e.message)||((n=c.response)===null||n===void 0||(n=n.data)===null||n===void 0?void 0:n.error)||c.message||"\u56DE\u5F52\u6D4B\u8BD5\u5931\u8D25")},oe=function(t){if(t){var e=[],n=t.stockCode;t.minuteData&&t.minuteData.forEach(function(c){e.push({time:P()(c.timestamp).format("HH:mm"),value:c.current,type:"\u5F53\u524D\u4EF7",stockCode:n}),e.push({time:P()(c.timestamp).format("HH:mm"),value:c.avgPrice,type:"\u5747\u4EF7",stockCode:n})}),t.buyPoints&&t.buyPoints.length>0&&(t.buyPoints.forEach(function(c){e.push({time:P()(c.time).format("HH:mm"),value:c.price,type:"\u4E70\u5165\u70B9",stockCode:n})}),t.hasBuyPoint=!0,t.buyTime=P()(t.buyPoints[0].time).format("HH:mm")),t.sellPoints&&t.sellPoints.length>0&&(t.sellPoints.forEach(function(c){e.push({time:P()(c.time).format("HH:mm"),value:c.price,type:"\u5356\u51FA\u70B9",stockCode:n})}),t.hasSoldSameDay=!0,t.sellTime=P()(t.sellPoints[0].time).format("HH:mm")),Pe(e)}},Ce=function(t,e){var n=[];e!=null&&e.nasdaq&&e.nasdaq.forEach(function(c){n.push({time:P()(c.timestamp).format("HH:mm"),value:c.change,type:"\u7EB3\u65AF\u8FBE\u514B\u6307\u6570"})}),e!=null&&e.spx&&e.spx.forEach(function(c){n.push({time:P()(c.timestamp).format("HH:mm"),value:c.change,type:"\u6807\u666E500\u6307\u6570"})}),ie(n)},Ze=function(t,e){var n;z(t.stockCode||""),w(e),(n=t.details)!==null&&n!==void 0&&n[0]&&oe(t.details[0]),xe&&xe[e]&&Ce(e,xe[e])},We=[{title:"\u65E5\u671F",dataIndex:"date",key:"date"},{title:"\u662F\u5426\u6709\u4E70\u5165\u70B9",dataIndex:"hasBuyPoint",key:"hasBuyPoint",render:function(t,e){var n=e.buyPoints&&e.buyPoints.length>0;return n?"\u662F":"\u5426"}},{title:"\u4E70\u5165\u65F6\u95F4",dataIndex:"buyTime",key:"buyTime",render:function(t,e){return e.buyPoints&&e.buyPoints.length>0?P()(e.buyPoints[0].time).format("HH:mm"):"-"}},{title:"\u662F\u5426\u5F53\u5929\u5356\u51FA",dataIndex:"hasSoldSameDay",key:"hasSoldSameDay",render:function(t,e){if(!e.buyPoints||e.buyPoints.length===0)return"-";var n=e.sellPoints&&e.sellPoints.length>0;return n?"\u662F":"\u5426"}},{title:"\u5356\u51FA\u65F6\u95F4",dataIndex:"sellTime",key:"sellTime",render:function(t,e){return e.sellPoints&&e.sellPoints.length>0?P()(e.sellPoints[0].time).format("HH:mm"):"-"}},{title:"\u6301\u4ED3\u65F6\u95F4",dataIndex:"holdingTime",key:"holdingTime",render:function(t,e){if(e.buyPoints&&e.buyPoints.length>0&&e.sellPoints&&e.sellPoints.length>0){var n=new Date(e.buyPoints[0].time).getTime(),c=new Date(e.sellPoints[0].time).getTime(),u=Math.floor((c-n)/(60*1e3));return u>0?"".concat(u," \u5206\u949F"):"-"}return"-"}},{title:"\u4EA4\u6613\u7ED3\u679C",dataIndex:"success",key:"success",render:function(t,e){return e.hasBuyPoint?t?"\u6210\u529F":"\u5931\u8D25":"-"}},{title:"\u64CD\u4F5C",key:"action",render:function(t,e){return(0,a.jsx)(I.ZP,{type:"link",onClick:function(){z(l.getFieldValue("stockCode")),w(e.date),oe(e)},children:"\u67E5\u770B\u8BE6\u60C5"})}}],$e=[{title:"\u80A1\u7968\u4EE3\u7801",dataIndex:"date",key:"date"},{title:"\u662F\u5426\u6709\u4E70\u5165\u70B9",dataIndex:"hasBuyPoint",key:"hasBuyPoint",render:function(t){return t?"\u662F":"\u5426"}},{title:"\u662F\u5426\u5F53\u5929\u5356\u51FA",dataIndex:"hasSoldSameDay",key:"hasSoldSameDay",render:function(t,e){return e.hasBuyPoint?t?"\u662F":"\u5426":"-"}},{title:"\u6210\u529F\u7387",dataIndex:"successRate",key:"successRate",render:function(t,e){return e.hasBuyPoint?"".concat(t.toFixed(2),"%"):"-"}},{title:"\u4EA4\u6613\u7ED3\u679C",dataIndex:"success",key:"success",render:function(t,e){return e.hasBuyPoint?t?"\u6210\u529F":"\u5931\u8D25":"-"}},{title:"\u64CD\u4F5C",key:"action",render:function(t,e){return(0,a.jsx)(I.ZP,{type:"link",onClick:function(){return Ze(e,e.date)},children:"\u67E5\u770B\u8BE6\u60C5"})}}],Ne=[{title:"\u65E5\u671F",dataIndex:"date",key:"date"},{title:"\u80A1\u7968\u4EE3\u7801",dataIndex:"stockCode",key:"stockCode"},{title:"\u662F\u5426\u6709\u4E70\u5165\u70B9",dataIndex:"hasBuyPoint",key:"hasBuyPoint",render:function(t,e){var n=e.buyPoints&&e.buyPoints.length>0;return n?"\u662F":"\u5426"}},{title:"\u4E70\u5165\u65F6\u95F4",dataIndex:"buyTime",key:"buyTime",render:function(t,e){return!e.buyPoints||e.buyPoints.length===0?"-":P()(e.buyPoints[0].time).format("HH:mm")}},{title:"\u662F\u5426\u5F53\u5929\u5356\u51FA",dataIndex:"hasSoldSameDay",key:"hasSoldSameDay",render:function(t,e){if(!e.buyPoints||e.buyPoints.length===0)return"-";var n=e.sellPoints&&e.sellPoints.length>0;return n?"\u662F":"\u5426"}},{title:"\u5356\u51FA\u65F6\u95F4",dataIndex:"sellTime",key:"sellTime",render:function(t,e){return!e.buyPoints||e.buyPoints.length===0||!e.sellPoints||e.sellPoints.length===0?"-":P()(e.sellPoints[0].time).format("HH:mm")}},{title:"\u6301\u4ED3\u65F6\u95F4",dataIndex:"holdingTime",key:"holdingTime",render:function(t,e){if(!e.buyPoints||e.buyPoints.length===0||!e.sellPoints||e.sellPoints.length===0)return"-";var n=new Date(e.buyPoints[0].time).getTime(),c=new Date(e.sellPoints[0].time).getTime(),u=Math.floor((c-n)/(60*1e3));return u>0?"".concat(u," \u5206\u949F"):"-"}},{title:"\u4EA4\u6613\u7ED3\u679C",dataIndex:"success",key:"success",render:function(t,e){if(!e.buyPoints||e.buyPoints.length===0)return"-";var n=e.sellPoints&&e.sellPoints.length>0;return n?"\u6210\u529F":"\u5931\u8D25"}},{title:"\u64CD\u4F5C",key:"action",render:function(t,e){return(0,a.jsx)(I.ZP,{type:"link",onClick:function(){var c=p.dailyResults.find(function(u){var X;return(X=u.details)===null||X===void 0?void 0:X.some(function(ue){return ue.date===e.date})});Ze(c,e.date),z(e.stockCode),oe(T()(T()({},e),{},{stockCode:e.stockCode}))},children:"\u67E5\u770B\u8BE6\u60C5"})}}],we=function(t){return(0,a.jsx)(Q.Z,{columns:Ne,dataSource:t.details.map(function(e){return T()(T()({},e),{},{stockCode:t.stockCode})}),pagination:!1,rowKey:"date"})},ze={data:E,xField:"time",yField:"value",seriesField:"type",yAxis:{title:{text:"\u4EF7\u683C"},min:function(t){return t*.995},max:function(t){return t*1.005}},xAxis:{title:{text:"\u65F6\u95F4"}},tooltip:{showMarkers:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"xy"},formatter:function(t){return{name:t.type,value:t.value.toFixed(2)}}},legend:{position:"top"},point:{size:function(t){return t.type==="\u4E70\u5165\u70B9"||t.type==="\u5356\u51FA\u70B9"?1e3:2},shape:function(t){return t.type==="\u4E70\u5165\u70B9"?"diamond":t.type==="\u5356\u51FA\u70B9"?"square":"circle"},style:function(t){return t.type==="\u4E70\u5165\u70B9"?{fill:"#f5222d",stroke:"#f5222d"}:t.type==="\u5356\u51FA\u70B9"?{fill:"#52c41a",stroke:"#52c41a"}:{opacity:.5}}},color:["#1890ff","#faad14","#f5222d","#52c41a"]},Ve=function(){if(!A||!E||E.length===0)return"";var t=pe||E[0].stockCode;return"".concat(t," - ").concat(A," \u4EF7\u683C\u8D70\u52BF\u56FE")};return(0,a.jsx)("div",{children:(0,a.jsxs)(B.Z,{title:"\u5206\u65F6\u5E73\u5747\u7EBF\u7B56\u7565\u56DE\u5F52\u6D4B\u8BD5",children:[(0,a.jsxs)(J.Z,{defaultActiveKey:"1",children:[(0,a.jsx)(ne,{tab:"\u5355\u80A1\u56DE\u5F52",children:(0,a.jsxs)(D.Z,{form:l,onFinish:Le,layout:"inline",children:[(0,a.jsx)(D.Z.Item,{name:"stockCode",label:"\u80A1\u7968\u4EE3\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u80A1\u7968\u4EE3\u7801"}],children:(0,a.jsx)(K.Z,{placeholder:"\u4F8B\u5982: AAPL"})}),(0,a.jsx)(D.Z.Item,{name:"sellProfitPercentage",label:"\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B(%)",initialValue:1.5,children:(0,a.jsx)(K.Z,{type:"number",step:.1})}),(0,a.jsx)(D.Z.Item,{children:(0,a.jsx)(I.ZP,{type:"primary",htmlType:"submit",loading:f,children:"\u5F00\u59CB\u56DE\u5F52\u6D4B\u8BD5"})})]})},"1"),(0,a.jsx)(ne,{tab:"\u5E02\u503C\u7B5B\u9009\u56DE\u5F52",children:(0,a.jsxs)(D.Z,{form:d,onFinish:Ke,layout:"inline",children:[(0,a.jsx)(D.Z.Item,{name:"marketCap",label:"\u6700\u5C0F\u5E02\u503C(\u4EBF)",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6700\u5C0F\u5E02\u503C"}],initialValue:1e4,children:(0,a.jsx)(K.Z,{type:"number",step:1})}),(0,a.jsx)(D.Z.Item,{name:"sellProfitPercentage",label:"\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B(%)",initialValue:1.5,children:(0,a.jsx)(K.Z,{type:"number",step:.1})}),(0,a.jsx)(D.Z.Item,{children:(0,a.jsx)(I.ZP,{type:"primary",htmlType:"submit",loading:f,children:"\u5F00\u59CB\u5E02\u503C\u7B5B\u9009\u56DE\u5F52"})})]})},"2")]}),p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(me.Z,{gutter:16,style:{marginTop:16},children:[(0,a.jsx)(q.Z,{span:6,children:(0,a.jsx)(B.Z,{children:(0,a.jsx)(Z.Z,{title:$?"\u6D4B\u8BD5\u80A1\u7968\u603B\u6570":"\u6709\u4E70\u5165\u70B9\u7684\u5929\u6570",value:p.totalTradingDays})})}),(0,a.jsx)(q.Z,{span:6,children:(0,a.jsx)(B.Z,{children:(0,a.jsx)(Z.Z,{title:$?"\u6210\u529F\u80A1\u7968\u6570":"\u5F53\u5929\u5B8C\u6210\u4EA4\u6613\u5929\u6570",value:p.successDays})})}),(0,a.jsx)(q.Z,{span:6,children:(0,a.jsx)(B.Z,{children:(0,a.jsx)(Z.Z,{title:$?"\u5E73\u5747\u6210\u529F\u7387":"\u5F53\u5929\u4EA4\u6613\u6210\u529F\u7387",value:p.successRate,precision:2,suffix:"%"})})})]}),(0,a.jsx)(B.Z,{title:$?"\u80A1\u7968\u6D4B\u8BD5\u7ED3\u679C":"\u6BCF\u65E5\u6D4B\u8BD5\u7ED3\u679C",style:{marginTop:16},children:(0,a.jsx)(Q.Z,{columns:$?$e:We,dataSource:p.dailyResults,rowKey:"date",expandable:$?{expandedRowRender:we,expandRowByClick:!0}:void 0})}),A&&(0,a.jsx)(B.Z,{title:Ve(),style:{marginTop:16},children:(0,a.jsx)(ee.Z,T()({},ze))}),V.length>0&&A&&(0,a.jsx)(B.Z,{title:"".concat(A," \u6307\u6570\u6DA8\u8DCC\u5E45\u8D70\u52BF\u56FE"),style:{marginTop:16},children:(0,a.jsx)(ee.Z,{data:V,xField:"time",yField:"value",seriesField:"type",yAxis:{title:{text:"\u6DA8\u8DCC\u5E45(%)"},label:{formatter:function(t){return"".concat(Number(t).toFixed(2),"%")}}},xAxis:{title:{text:"\u65F6\u95F4"}},tooltip:{showMarkers:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"xy"},formatter:function(t){return{name:t.type,value:"".concat(t.value.toFixed(2),"%")}}},legend:{position:"top"},smooth:!0,point:{size:2,style:{opacity:.5}},color:["#1890ff","#52c41a"],annotations:[{type:"line",start:["min",0],end:["max",0],style:{stroke:"#888",lineDash:[4,4]}}]})})]})]})})};H.default=_e},55054:function(ke,H,r){r.d(H,{Z:function(){return he}});var y=r(67294),T=r(57838),le=r(96159),U=r(93967),ce=r.n(U),Y=r(64217),de=r(53124),b=r(48054),J=i=>{const{value:l,formatter:m,precision:s,decimalSeparator:d,groupSeparator:x="",prefixCls:g}=i;let f;if(typeof m=="function")f=m(l);else{const _=String(l),C=_.match(/^(-?)(\d*)(\.(\d+))?$/);if(!C||_==="-")f=_;else{const S=C[1];let p=C[2]||"0",h=C[4]||"";p=p.replace(/\B(?=(\d{3})+(?!\d))/g,x),typeof s=="number"&&(h=h.padEnd(s,"0").slice(0,s>0?s:0)),h&&(h=`${d}${h}`),f=[y.createElement("span",{key:"int",className:`${g}-content-value-int`},S,p),h&&y.createElement("span",{key:"decimal",className:`${g}-content-value-decimal`},h)]}}return y.createElement("span",{className:`${g}-content-value`},f)},D=r(14747),L=r(83559),I=r(83262);const Q=i=>{const{componentCls:l,marginXXS:m,padding:s,colorTextDescription:d,titleFontSize:x,colorTextHeading:g,contentFontSize:f,fontFamily:_}=i;return{[l]:Object.assign(Object.assign({},(0,D.Wf)(i)),{[`${l}-title`]:{marginBottom:m,color:d,fontSize:x},[`${l}-skeleton`]:{paddingTop:s},[`${l}-content`]:{color:g,fontSize:f,fontFamily:_,[`${l}-content-value`]:{display:"inline-block",direction:"ltr"},[`${l}-content-prefix, ${l}-content-suffix`]:{display:"inline-block"},[`${l}-content-prefix`]:{marginInlineEnd:m},[`${l}-content-suffix`]:{marginInlineStart:m}}})}},B=i=>{const{fontSizeHeading3:l,fontSize:m}=i;return{titleFontSize:m,contentFontSize:l}};var K=(0,L.I$)("Statistic",i=>{const l=(0,I.IX)(i,{});return[Q(l)]},B),me=function(i,l){var m={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&l.indexOf(s)<0&&(m[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(i);d<s.length;d++)l.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(i,s[d])&&(m[s[d]]=i[s[d]]);return m},Z=i=>{const{prefixCls:l,className:m,rootClassName:s,style:d,valueStyle:x,value:g=0,title:f,valueRender:_,prefix:C,suffix:S,loading:p=!1,formatter:h,precision:R,decimalSeparator:W=".",groupSeparator:A=",",onMouseEnter:w,onMouseLeave:ve}=i,ae=me(i,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:pe,direction:z,className:ye,style:se}=(0,de.dj)("statistic"),E=pe("statistic",l),[Pe,ge,re]=K(E),V=y.createElement(J,{decimalSeparator:W,groupSeparator:A,prefixCls:E,formatter:h,precision:R,value:g}),ie=ce()(E,{[`${E}-rtl`]:z==="rtl"},ye,m,s,ge,re),Ee=(0,Y.Z)(ae,{aria:!0,data:!0});return Pe(y.createElement("div",Object.assign({},Ee,{className:ie,style:Object.assign(Object.assign({},se),d),onMouseEnter:w,onMouseLeave:ve}),f&&y.createElement("div",{className:`${E}-title`},f),y.createElement(b.Z,{paragraph:!1,loading:p,className:`${E}-skeleton`},y.createElement("div",{style:x,className:`${E}-content`},C&&y.createElement("span",{className:`${E}-content-prefix`},C),_?_(V):V,S&&y.createElement("span",{className:`${E}-content-suffix`},S)))))};const ee=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function te(i,l){let m=i;const s=/\[[^\]]*]/g,d=(l.match(s)||[]).map(_=>_.slice(1,-1)),x=l.replace(s,"[]"),g=ee.reduce((_,C)=>{let[S,p]=C;if(_.includes(S)){const h=Math.floor(m/p);return m-=h*p,_.replace(new RegExp(`${S}+`,"g"),R=>{const W=R.length;return h.toString().padStart(W,"0")})}return _},x);let f=0;return g.replace(s,()=>{const _=d[f];return f+=1,_})}function fe(i,l){const{format:m=""}=l,s=new Date(i).getTime(),d=Date.now(),x=Math.max(s-d,0);return te(x,m)}var P=function(i,l){var m={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&l.indexOf(s)<0&&(m[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(i);d<s.length;d++)l.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(i,s[d])&&(m[s[d]]=i[s[d]]);return m};const a=1e3/30;function ne(i){return new Date(i).getTime()}const _e=i=>{const{value:l,format:m="HH:mm:ss",onChange:s,onFinish:d}=i,x=P(i,["value","format","onChange","onFinish"]),g=(0,T.Z)(),f=y.useRef(null),_=()=>{d==null||d(),f.current&&(clearInterval(f.current),f.current=null)},C=()=>{const h=ne(l);h>=Date.now()&&(f.current=setInterval(()=>{g(),s==null||s(h-Date.now()),h<Date.now()&&_()},a))};y.useEffect(()=>(C(),()=>{f.current&&(clearInterval(f.current),f.current=null)}),[l]);const S=(h,R)=>fe(h,Object.assign(Object.assign({},R),{format:m})),p=h=>(0,le.Tm)(h,{title:void 0});return y.createElement(Z,Object.assign({},x,{value:l,valueRender:p,formatter:S}))};var je=y.memo(_e);Z.Countdown=je;var he=Z},27771:function(ke,H){var r=Array.isArray;H.Z=r}}]);
