(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[666],{71954:function(su,q,l){"use strict";l.r(q);var Be=l(97857),ee=l.n(Be),_e=l(19632),W=l.n(_e),ge=l(15009),C=l.n(ge),fe=l(99289),T=l.n(fe),Ce=l(5574),B=l.n(Ce),_=l(67294),ye=l(90930),z=l(48096),je=l(22396),N=l(74656),o=l(8232),x=l(2453),v=l(4393),U=l(83622),M=l(55102),y=l(37804),V=l(40056),ue=l(78957),Q=l(78045),Re=l(74330),Ae=l(2618),te=l(80652),X=l(78677),be=l(27484),a=l.n(be),re=l(94272),R=l(84105),ve=l(3089),Pe=l(51042),e=l(85893),G=z.Z.TabPane,Me=je.default.RangePicker,iu=N.Z.Option,du=[{label:"\u6BCF\u5468\u5B9A\u6295",value:"WEEKLY"},{label:"\u5927\u76D8\u4E0B\u8DCC\u5B9A\u6295",value:"INDEX_DROP"},{label:"\u8FDE\u7EED\u4E0B\u8DCC\u5B9A\u6295",value:"CONSECUTIVE_DROP"},{label:"\u91D1\u5B57\u5854\u52A0\u4ED3\u6CD5(\u4E0E\u6BCF\u5468\u5B9A\u6295\u914D\u5408\u4F7F\u7528)",value:"PYRAMID"},{label:"\u4E0A\u6DA8\u51CF\u5C11\u5B9A\u6295\u7B56\u7565(\u4E0E\u6BCF\u5468\u5B9A\u6295\u914D\u5408\u4F7F\u7528)",value:"RISE_REDUCE"}],Ye=function(){var Ie=o.Z.useForm(),ke=B()(Ie,1),H=ke[0],I=(0,_.useRef)(),Oe=(0,_.useState)("single"),ae=B()(Oe,2),j=ae[0],Ze=ae[1],Te=(0,_.useState)("0"),ne=B()(Te,2),Se=ne[0],J=ne[1],Ue=(0,_.useState)(!1),se=B()(Ue,2),ie=se[0],k=se[1],we=(0,_.useState)(null),de=B()(we,2),r=de[0],K=de[1],Le=(0,_.useState)({}),le=B()(Le,2),oe=le[0],w=le[1],We=(0,_.useState)([]),ce=B()(We,2),$=ce[0],L=ce[1],Ke=(0,_.useState)([]),pe=B()(Ke,2),ou=pe[0],cu=pe[1],$e=(0,_.useState)([]),me=B()($e,2),pu=me[0],ze=me[1],Ne=(0,_.useState)(!1),De=B()(Ne,2),mu=De[0],Ve=De[1],Qe=(0,_.useState)(!1),Ee=B()(Qe,2),Du=Ee[0],Xe=Ee[1];(0,_.useEffect)(function(){var E=[a()().subtract(3,"year").startOf("year"),a()().subtract(1,"year").endOf("year")];if(I.current){var p=I.current.getFieldsValue();(!p.dateRanges||p.dateRanges.length===0)&&I.current.setFieldsValue({dateRanges:[E]})}},[I]),(0,_.useEffect)(function(){var E=H.getFieldsValue(),p=E.strategies||[];ze(p),Ve(p.includes("PYRAMID")),Xe(p.includes("RISE_REDUCE"))},[H]);var Ge=function(){var E=T()(C()().mark(function p(u){var i,s,t,n,d,D,F,A,h;return C()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return k(!0),c.prev=1,K(null),L([]),w({}),i=B()(u.dateRanges[0],2),s=i[0],t=i[1],n=u.investAmount,n||(d=a()(s),D=a()(t),F=Math.ceil(D.diff(d,"week",!0)),n=Math.round(u.initialCapital*u.maxInvestRatio/F),x.ZP.info("\u81EA\u52A8\u8BA1\u7B97\u6BCF\u6B21\u5B9A\u6295\u91D1\u989D\u4E3A: $".concat(n))),A={stockCode:u.stockCode,indexCode:u.indexCode||"NDAQ",initialCapital:u.initialCapital,investAmount:n,maxInvestRatio:u.maxInvestRatio,strategies:u.strategies.join(","),startDate:s.format("YYYY-MM-DD"),endDate:t.format("YYYY-MM-DD"),sellProfitPercentage:u.sellProfitPercentage,buybackDropPercentage:u.buybackDropPercentage,maxTimesPerWeek:u.strategies.includes("INDEX_DROP")?u.maxTimesPerWeek||1:void 0,pyramidDropRanges:u.strategies.includes("PYRAMID")?u.pyramidDropRanges:"",pyramidInvestRatios:u.strategies.includes("PYRAMID")?u.pyramidInvestRatios:"",riseReduceRanges:u.strategies.includes("RISE_REDUCE")?u.riseReduceRanges:"",riseReduceRatios:u.strategies.includes("RISE_REDUCE")?u.riseReduceRatios:"",indexDropRanges:u.strategies.includes("INDEX_DROP")?u.indexDropRanges:"",indexDropInvestRatios:u.strategies.includes("INDEX_DROP")?u.indexDropInvestRatios:""},c.next=11,(0,re.request)("/api/backtest/run",{method:"GET",params:A});case 11:h=c.sent,h.success?(K(h.data),x.ZP.success("\u56DE\u6D4B\u6267\u884C\u6210\u529F")):x.ZP.error(h.errorMessage||"\u56DE\u6D4B\u6267\u884C\u5931\u8D25"),c.next=19;break;case 15:c.prev=15,c.t0=c.catch(1),console.error("\u56DE\u6D4B\u6267\u884C\u51FA\u9519:",c.t0),x.ZP.error("\u56DE\u6D4B\u6267\u884C\u51FA\u9519");case 19:return c.prev=19,k(!1),c.finish(19);case 22:case"end":return c.stop()}},p,null,[[1,15,19,22]])}));return function(u){return E.apply(this,arguments)}}(),He=function(){var E=T()(C()().mark(function p(u){var i,s,t,n,d,D,F,A,h;return C()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return k(!0),c.prev=1,K(null),L([]),w({}),i=u.investAmount,i||(s=a()(u.dateRanges[0][0]),t=a()(u.dateRanges[0][1]),n=Math.ceil(t.diff(s,"week",!0)),i=Math.round(u.initialCapital*u.maxInvestRatio/n),x.ZP.info("\u81EA\u52A8\u8BA1\u7B97\u6BCF\u6B21\u5B9A\u6295\u91D1\u989D\u4E3A: $".concat(i))),d=function(O,Y,S){for(var b=[],Z=O;Z<=Y;Z+=S)b.push(Z);return b},D=d(u.sellProfitRangeStart||10,u.sellProfitRangeEnd||50,u.sellProfitStep||5).join(","),D=D+",9999",F=d(u.buybackRangeStart||5,u.buybackRangeEnd||15,u.buybackStep||2.5).join(","),F=F+",9999",A=u.dateRanges.map(function(){var f=T()(C()().mark(function O(Y){var S,b;return C()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return S={stockCode:u.stockCode,indexCode:u.indexCode||"NDAQ",initialCapital:u.initialCapital,investAmount:i,maxInvestRatio:u.maxInvestRatio,strategies:u.strategies.join(","),startDate:Y[0].format("YYYY-MM-DD"),endDate:Y[1].format("YYYY-MM-DD"),sellProfitRanges:D,buybackRanges:F,maxTimesPerWeek:u.maxTimesPerWeek||1,pyramidDropRanges:u.strategies.includes("PYRAMID")?u.pyramidDropRanges:"",pyramidInvestRatios:u.strategies.includes("PYRAMID")?u.pyramidInvestRatios:"",riseReduceRanges:u.strategies.includes("RISE_REDUCE")?u.riseReduceRanges:"",riseReduceRatios:u.strategies.includes("RISE_REDUCE")?u.riseReduceRatios:"",indexDropRanges:u.strategies.includes("INDEX_DROP")?u.indexDropRanges:"",indexDropInvestRatios:u.strategies.includes("INDEX_DROP")?u.indexDropInvestRatios:""},P.next=3,(0,re.request)("/api/backtest/optimize",{method:"GET",params:S});case 3:if(b=P.sent,!b.success){P.next=8;break}return P.abrupt("return",{dateRange:Y,results:b.data});case 8:throw new Error(b.message||"\u53C2\u6570\u4F18\u5316\u5931\u8D25");case 9:case"end":return P.stop()}},O)}));return function(O){return f.apply(this,arguments)}}()),c.next=15,Promise.all(A);case 15:h=c.sent,L(h),J("0"),x.ZP.success("\u53C2\u6570\u4F18\u5316\u5B8C\u6210"),c.next=25;break;case 21:c.prev=21,c.t0=c.catch(1),console.error("\u53C2\u6570\u4F18\u5316\u51FA\u9519:",c.t0),x.ZP.error("\u53C2\u6570\u4F18\u5316\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u53C2\u6570\u540E\u91CD\u8BD5");case 25:return c.prev=25,k(!1),c.finish(25);case 28:case"end":return c.stop()}},p,null,[[1,21,25,28]])}));return function(u){return E.apply(this,arguments)}}(),Je=function(){var E=T()(C()().mark(function p(u){var i;return C()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.prev=1,K(null),L([]),w({}),t.next=7,(0,Ae.li)({stockCode:u.stockCode,indexCode:u.indexCode||"NDAQ",initialCapital:u.initialCapital});case 7:i=t.sent,i.success?(w(i.data||{}),x.ZP.success("\u7B56\u7565\u6BD4\u8F83\u6210\u529F")):x.ZP.error(i.errorMessage||"\u7B56\u7565\u6BD4\u8F83\u5931\u8D25"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.error("\u7B56\u7565\u6BD4\u8F83\u51FA\u9519:",t.t0),x.ZP.error("\u7B56\u7565\u6BD4\u8F83\u51FA\u9519");case 15:return t.prev=15,k(!1),t.finish(15);case 18:case"end":return t.stop()}},p,null,[[1,11,15,18]])}));return function(u){return E.apply(this,arguments)}}(),xe=function(){var E=T()(C()().mark(function p(u){return C()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,k(!0),j!=="single"){s.next=7;break}return s.next=5,Ge(u);case 5:s.next=15;break;case 7:if(j!=="optimize"){s.next=12;break}return s.next=10,He(u);case 10:s.next=15;break;case 12:if(j!=="compare"){s.next=15;break}return s.next=15,Je(u);case 15:s.next=20;break;case 17:s.prev=17,s.t0=s.catch(0),console.error("\u8868\u5355\u63D0\u4EA4\u5904\u7406\u51FA\u9519:",s.t0);case 20:return s.prev=20,s.finish(20);case 22:case"end":return s.stop()}},p,null,[[0,17,20,22]])}));return function(u){return E.apply(this,arguments)}}(),qe=function(){if(!r)return null;var p=function(){try{var n,d=(n=I.current)===null||n===void 0?void 0:n.getFieldsValue(),D=(d==null?void 0:d.stockCode)||r.stockCode||"\u672A\u77E5",F=a()(r.startDate).format("YYYYMMDD"),A=a()(r.endDate).format("YYYYMMDD"),h=R.P6.book_new(),g=[{\u80A1\u7968\u4EE3\u7801:D,\u56DE\u6D4B\u65F6\u95F4\u8303\u56F4:"".concat(a()(r.startDate).format("YYYY-MM-DD")," \u81F3 ").concat(a()(r.endDate).format("YYYY-MM-DD")),"\u5E74\u5316\u6536\u76CA\u7387(%)":r.annualizedReturn.toFixed(2),"\u6536\u76CA\u7387(%)":r.returnRate.toFixed(2),"\u6700\u5927\u56DE\u64A4(%)":r.maxDrawdown.toFixed(2),"\u603B\u6295\u5165\u8D44\u91D1($)":r.totalInvestment.toFixed(2),"\u6700\u7EC8\u4EF7\u503C($)":r.finalValue.toFixed(2),\u4EA4\u6613\u6B21\u6570:r.transactionCount,\u6301\u4ED3\u5929\u6570:r.holdingDays||0}];r.stockDailyReturns&&r.stockDailyReturns.length>0&&(g[0]["\u80A1\u7968\u81EA\u8EAB\u6DA8\u8DCC\u5E45(%)"]=r.stockDailyReturns[r.stockDailyReturns.length-1].returnRate.toFixed(2),g[0]["\u76F8\u5BF9\u80A1\u7968\u8D85\u989D\u6536\u76CA(%)"]=(r.returnRate-r.stockDailyReturns[r.stockDailyReturns.length-1].returnRate).toFixed(2)),r.indexDailyReturns&&r.indexDailyReturns.length>0&&(g[0]["\u6307\u6570\u6DA8\u8DCC\u5E45(%)"]=r.indexDailyReturns[r.indexDailyReturns.length-1].returnRate.toFixed(2),g[0]["\u76F8\u5BF9\u6307\u6570\u8D85\u989D\u6536\u76CA(%)"]=(r.returnRate-r.indexDailyReturns[r.indexDailyReturns.length-1].returnRate).toFixed(2));var c=R.P6.json_to_sheet(g),f=[{wch:12},{wch:20},{wch:15},{wch:12},{wch:12},{wch:15},{wch:15},{wch:10},{wch:10}];c["!cols"]=f,R.P6.book_append_sheet(h,c,"\u56DE\u6D4B\u7ED3\u679C\u6982\u89C8");var O=(r.buyTransactions||[]).map(function(m){return{\u80A1\u7968\u4EE3\u7801:D,\u65E5\u671F:a()(m.date).format("YYYY-MM-DD"),"\u4EF7\u683C($)":m.price.toFixed(2),\u6570\u91CF:m.quantity,"\u91D1\u989D($)":m.amount.toFixed(2),\u7B56\u7565:m.strategy,\u7C7B\u578B:m.isBuyback?"\u56DE\u8C03\u4E70\u5165":"\u5B9A\u6295\u4E70\u5165",\u5173\u8054\u5356\u51FA\u65E5\u671F:m.relatedTransactionDate?a()(m.relatedTransactionDate).format("YYYY-MM-DD"):"","\u5173\u8054\u5356\u51FA\u4EF7\u683C($)":m.relatedTransactionPrice?m.relatedTransactionPrice.toFixed(2):""}});if(O.length>0){var Y=R.P6.json_to_sheet(O),S=[{wch:12},{wch:12},{wch:10},{wch:8},{wch:10},{wch:40},{wch:10},{wch:15},{wch:15}];Y["!cols"]=S,R.P6.book_append_sheet(h,Y,"\u4E70\u5165\u8BB0\u5F55")}var b=(r.sellTransactions||[]).map(function(m){return{\u80A1\u7968\u4EE3\u7801:D,\u65E5\u671F:a()(m.date).format("YYYY-MM-DD"),"\u4EF7\u683C($)":m.price.toFixed(2),\u6570\u91CF:m.quantity,"\u91D1\u989D($)":m.amount.toFixed(2),\u7B56\u7565:m.strategy,"\u76C8\u5229\u7387(%)":m.profitRate?m.profitRate.toFixed(2):"",\u6301\u4ED3\u5929\u6570:m.holdingDays||"",\u5173\u8054\u4E70\u5165\u65E5\u671F:m.relatedTransactionDate?a()(m.relatedTransactionDate).format("YYYY-MM-DD"):"","\u5173\u8054\u4E70\u5165\u4EF7\u683C($)":m.relatedTransactionPrice?m.relatedTransactionPrice.toFixed(2):""}});if(b.length>0){var Z=R.P6.json_to_sheet(b),P=[{wch:12},{wch:12},{wch:10},{wch:8},{wch:10},{wch:15},{wch:10},{wch:10},{wch:15},{wch:15}];Z["!cols"]=P,R.P6.book_append_sheet(h,Z,"\u5356\u51FA\u8BB0\u5F55")}var he=(r.dailyBalances||[]).map(function(m){return{\u80A1\u7968\u4EE3\u7801:D,\u65E5\u671F:a()(m.date).format("YYYY-MM-DD"),"\u7D2F\u8BA1\u6295\u5165($)":m.cumulativeInvestment.toFixed(2),"\u8D26\u6237\u73B0\u91D1($)":m.cashBalance.toFixed(2),"\u8D44\u4EA7\u603B\u503C($)":m.totalValue.toFixed(2)}});if(he.length>0){var Fe=R.P6.json_to_sheet(he),au=[{wch:12},{wch:12},{wch:15},{wch:15},{wch:15}];Fe["!cols"]=au,R.P6.book_append_sheet(h,Fe,"\u6BCF\u65E5\u8D44\u91D1\u6570\u636E")}var nu="".concat(D,"_").concat(F,"_").concat(A,"_\u5355\u6B21\u56DE\u6D4B\u6570\u636E.xlsx");R.NC(h,nu),x.ZP.success("\u5BFC\u51FA\u6210\u529F\uFF01")}catch(m){console.error("\u5BFC\u51FA\u5931\u8D25:",m),x.ZP.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5")}},u=(r.dailyBalances||[]).flatMap(function(t){return[{date:a()(t.date).format("YYYY-MM-DD"),type:"\u7D2F\u8BA1\u6295\u5165",value:t.cumulativeInvestment},{date:a()(t.date).format("YYYY-MM-DD"),type:"\u8D26\u6237\u73B0\u91D1",value:t.cashBalance},{date:a()(t.date).format("YYYY-MM-DD"),type:"\u8D44\u4EA7\u603B\u503C",value:t.totalValue}]}),i=r.buyTransactions||[],s=r.sellTransactions||[];return(0,e.jsxs)("div",{children:[(0,e.jsx)(v.Z,{title:"\u56DE\u6D4B\u7ED3\u679C\u6982\u89C8",style:{marginBottom:16},extra:(0,e.jsx)(U.ZP,{type:"primary",onClick:p,children:"\u5BFC\u51FAExcel"}),children:(0,e.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u6536\u76CA\u7387"}),(0,e.jsxs)("div",{style:{fontSize:24,color:r.returnRate>=0?"#52c41a":"#f5222d"},children:[r.returnRate.toFixed(2),"%"]})]}),(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u5E74\u5316\u6536\u76CA\u7387"}),(0,e.jsxs)("div",{style:{fontSize:24,color:r.annualizedReturn>=0?"#52c41a":"#f5222d"},children:[r.annualizedReturn.toFixed(2),"%"]})]}),(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u6700\u5927\u56DE\u64A4"}),(0,e.jsxs)("div",{style:{fontSize:24,color:"#f5222d"},children:[r.maxDrawdown.toFixed(2),"%"]})]}),(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u603B\u6295\u5165\u8D44\u91D1"}),(0,e.jsxs)("div",{style:{fontSize:24},children:["$",r.totalInvestment.toFixed(2)]})]}),(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u6700\u7EC8\u4EF7\u503C"}),(0,e.jsxs)("div",{style:{fontSize:24},children:["$",r.finalValue.toFixed(2)]})]}),(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u4EA4\u6613\u6B21\u6570"}),(0,e.jsx)("div",{style:{fontSize:24},children:r.transactionCount})]}),(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u6301\u4ED3\u5929\u6570"}),(0,e.jsx)("div",{style:{fontSize:24},children:r.holdingDays})]}),r.stockDailyReturns&&r.stockDailyReturns.length>0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u80A1\u7968\u81EA\u8EAB\u6DA8\u8DCC\u5E45"}),(0,e.jsxs)("div",{style:{fontSize:24,color:r.stockDailyReturns[r.stockDailyReturns.length-1].returnRate>=0?"#52c41a":"#f5222d"},children:[r.stockDailyReturns[r.stockDailyReturns.length-1].returnRate.toFixed(2),"%"]})]}),(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u76F8\u5BF9\u80A1\u7968\u8D85\u989D\u6536\u76CA"}),(0,e.jsxs)("div",{style:{fontSize:24,color:r.returnRate-r.stockDailyReturns[r.stockDailyReturns.length-1].returnRate>=0?"#52c41a":"#f5222d"},children:[(r.returnRate-r.stockDailyReturns[r.stockDailyReturns.length-1].returnRate).toFixed(2),"%"]})]})]}),r.indexDailyReturns&&r.indexDailyReturns.length>0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u6307\u6570\u6DA8\u8DCC\u5E45"}),(0,e.jsxs)("div",{style:{fontSize:24,color:r.indexDailyReturns[r.indexDailyReturns.length-1].returnRate>=0?"#52c41a":"#f5222d"},children:[r.indexDailyReturns[r.indexDailyReturns.length-1].returnRate.toFixed(2),"%"]})]}),(0,e.jsxs)("div",{style:{flex:"1 1 200px",padding:"0 16px",margin:"8px 0"},children:[(0,e.jsx)("h4",{children:"\u76F8\u5BF9\u6307\u6570\u8D85\u989D\u6536\u76CA"}),(0,e.jsxs)("div",{style:{fontSize:24,color:r.returnRate-r.indexDailyReturns[r.indexDailyReturns.length-1].returnRate>=0?"#52c41a":"#f5222d"},children:[(r.returnRate-r.indexDailyReturns[r.indexDailyReturns.length-1].returnRate).toFixed(2),"%"]})]})]})]})}),(0,e.jsx)(v.Z,{title:"\u8D44\u91D1\u66F2\u7EBF",style:{marginBottom:16},children:(0,e.jsx)(te.Z,{data:u,xField:"date",yField:"value",seriesField:"type",yAxis:{label:{formatter:function(n){return"$".concat(Number(n).toFixed(2))}}},tooltip:{formatter:function(n){return{name:n.type,value:"$".concat(Number(n.value).toFixed(2))}}},legend:{position:"top"},smooth:!0,color:["#1890ff","#52c41a","#fa8c16"]})}),(0,e.jsx)(v.Z,{title:"\u6536\u76CA\u7387\u5BF9\u6BD4",style:{marginBottom:16},children:(0,e.jsx)(te.Z,{data:[].concat(W()((r.dailyReturns||[]).map(function(t){return{date:a()(t.date).format("YYYY-MM-DD"),type:"\u7B56\u7565\u6536\u76CA\u7387",value:t.returnRate}})),W()((r.indexDailyReturns||[]).map(function(t){return{date:a()(t.date).format("YYYY-MM-DD"),type:"\u6307\u6570\u6DA8\u8DCC\u5E45",value:t.returnRate}})),W()((r.stockDailyReturns||[]).map(function(t){return{date:a()(t.date).format("YYYY-MM-DD"),type:"\u80A1\u7968\u6DA8\u8DCC\u5E45",value:t.returnRate}}))),xField:"date",yField:"value",seriesField:"type",yAxis:{label:{formatter:function(n){return"".concat(Number(n).toFixed(2),"%")}}},tooltip:{formatter:function(n){return{name:n.type,value:"".concat(Number(n.value).toFixed(2),"%")}}},legend:{position:"top"},smooth:!0,point:{size:2,shape:"circle"},color:["#52c41a","#1890ff","#fa8c16"]})}),(0,e.jsxs)(z.Z,{defaultActiveKey:"buy",children:[(0,e.jsx)(G,{tab:"\u4E70\u5165\u8BB0\u5F55",children:(0,e.jsxs)(v.Z,{children:[(0,e.jsx)(X.Z,{data:i.map(function(t){return{date:a()(t.date).format("YYYY-MM-DD"),amount:t.amount,strategy:t.strategy}}),xField:"date",yField:"amount",seriesField:"strategy",isStack:!0,label:{position:"middle",formatter:function(n){return"$".concat(Number(n.amount).toFixed(0))}},yAxis:{label:{formatter:function(n){return"$".concat(Number(n).toFixed(0))}}}}),(0,e.jsxs)("div",{style:{marginTop:24},children:[(0,e.jsx)("h4",{children:"\u4E70\u5165\u4EA4\u6613\u8BE6\u60C5"}),(0,e.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:10},children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{style:{background:"#f0f0f0",textAlign:"left"},children:[(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u65E5\u671F"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u4EF7\u683C"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u6570\u91CF"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u91D1\u989D"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",width:"300px"},children:"\u7B56\u7565"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u7C7B\u578B"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u5173\u8054\u4FE1\u606F"})]})}),(0,e.jsx)("tbody",{children:i.map(function(t,n){return(0,e.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,e.jsx)("td",{style:{padding:"10px"},children:a()(t.date).format("YYYY-MM-DD")}),(0,e.jsxs)("td",{style:{padding:"10px"},children:["$",t.price.toFixed(2)]}),(0,e.jsx)("td",{style:{padding:"10px"},children:t.quantity}),(0,e.jsxs)("td",{style:{padding:"10px"},children:["$",t.amount.toFixed(2)]}),(0,e.jsx)("td",{style:{padding:"10px"},children:t.strategy}),(0,e.jsx)("td",{style:{padding:"10px"},children:t.isBuyback?"\u56DE\u8C03\u4E70\u5165":"\u5B9A\u6295\u4E70\u5165"}),(0,e.jsx)("td",{style:{padding:"10px"},children:t.relatedTransactionDate&&t.relatedTransactionPrice?(0,e.jsxs)("span",{children:["\u5173\u8054\u5356\u51FA: ",a()(t.relatedTransactionDate).format("YYYY-MM-DD"),"\u4EF7\u683C: $",t.relatedTransactionPrice.toFixed(2)]}):"\u666E\u901A\u5B9A\u6295"})]},"buy-".concat(n))})})]})]})]})},"buy"),(0,e.jsx)(G,{tab:"\u5356\u51FA\u8BB0\u5F55",children:(0,e.jsxs)(v.Z,{children:[(0,e.jsx)(X.Z,{data:s.map(function(t){return{date:a()(t.date).format("YYYY-MM-DD"),amount:t.amount,strategy:t.strategy}}),xField:"date",yField:"amount",seriesField:"strategy",isStack:!0,label:{position:"middle",formatter:function(n){return"$".concat(Number(n.amount).toFixed(0))}},yAxis:{label:{formatter:function(n){return"$".concat(Number(n).toFixed(0))}}}}),(0,e.jsxs)("div",{style:{marginTop:24},children:[(0,e.jsx)("h4",{children:"\u5356\u51FA\u4EA4\u6613\u8BE6\u60C5"}),(0,e.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:10},children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{style:{background:"#f0f0f0",textAlign:"left"},children:[(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u65E5\u671F"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u4EF7\u683C"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u6570\u91CF"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u91D1\u989D"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u7B56\u7565"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u76C8\u5229\u7387"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u6301\u4ED3\u5929\u6570"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u5173\u8054\u4FE1\u606F"})]})}),(0,e.jsx)("tbody",{children:s.map(function(t,n){var d;return(0,e.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,e.jsx)("td",{style:{padding:"10px"},children:a()(t.date).format("YYYY-MM-DD")}),(0,e.jsxs)("td",{style:{padding:"10px"},children:["$",t.price.toFixed(2)]}),(0,e.jsx)("td",{style:{padding:"10px"},children:t.quantity}),(0,e.jsxs)("td",{style:{padding:"10px"},children:["$",t.amount.toFixed(2)]}),(0,e.jsx)("td",{style:{padding:"10px"},children:t.strategy}),(0,e.jsxs)("td",{style:{padding:"10px",color:(t.profitRate||0)>=0?"#52c41a":"#f5222d"},children:[(d=t.profitRate)===null||d===void 0?void 0:d.toFixed(2),"%"]}),(0,e.jsxs)("td",{style:{padding:"10px"},children:[t.holdingDays," \u5929"]}),(0,e.jsx)("td",{style:{padding:"10px"},children:t.relatedTransactionDate&&t.relatedTransactionPrice?(0,e.jsxs)("span",{children:["\u5173\u8054\u4E70\u5165: ",a()(t.relatedTransactionDate).format("YYYY-MM-DD"),"\u4EF7\u683C: $",t.relatedTransactionPrice.toFixed(2)]}):"\u672A\u77E5"})]},"sell-".concat(n))})})]})]})]})},"sell")]})]})},eu=function(){if(!oe)return null;var p=Object.entries(oe).map(function(u){var i=B()(u,2),s=i[0],t=i[1],n=t;return[{strategy:s,metric:"\u6536\u76CA\u7387",value:n.returnRate},{strategy:s,metric:"\u5E74\u5316\u6536\u76CA\u7387",value:n.annualizedReturn},{strategy:s,metric:"\u6700\u5927\u56DE\u64A4",value:n.maxDrawdown},{strategy:s,metric:"\u590F\u666E\u6BD4\u7387",value:n.sharpeRatio},{strategy:s,metric:"\u4EA4\u6613\u6B21\u6570",value:n.transactionCount}]}).flat();return(0,e.jsx)("div",{children:(0,e.jsx)(v.Z,{title:"\u7B56\u7565\u6BD4\u8F83",style:{marginBottom:16},children:(0,e.jsx)(X.Z,{data:p,xField:"strategy",yField:"value",seriesField:"metric",isGroup:!0,columnStyle:{radius:[4,4,0,0]},label:{position:"top",formatter:function(i){return i.metric.includes("\u7387")||i.metric.includes("\u56DE\u64A4")?"".concat(Number(i.value).toFixed(2),"%"):i.value.toFixed(2)}}})})})},uu=function(){if(!$||$.length===0)return null;var p=function(){x.ZP.info("\u5BFC\u51FA\u5168\u90E8\u6570\u636E\u529F\u80FD\u9700\u8981\u8C03\u6574\u4EE5\u9002\u5E94\u65B0\u7684\u6570\u636E\u7ED3\u6784")},u=function(s,t){x.ZP.info("\u5BFC\u51FA\u5F53\u524D\u8303\u56F4\u6570\u636E\u529F\u80FD\u9700\u8981\u786E\u8BA4")};return(0,e.jsxs)("div",{children:[$.length>1&&(0,e.jsx)(v.Z,{style:{marginBottom:16},children:(0,e.jsx)(U.ZP,{type:"primary",onClick:p,children:"\u5BFC\u51FA\u5168\u90E8\u6570\u636E"})}),(0,e.jsx)(z.Z,{activeKey:Se,onChange:J,children:$.map(function(i,s){var t=i.dateRange,n=W()(i.results).sort(function(d,D){return D.annualizedReturn-d.annualizedReturn});return(0,e.jsx)(G,{tab:"".concat(t[0].format("YYYY-MM-DD")," \u81F3 ").concat(t[1].format("YYYY-MM-DD")),children:(0,e.jsx)(v.Z,{title:"\u53C2\u6570\u4F18\u5316\u7ED3\u679C",style:{marginBottom:16},extra:(0,e.jsx)(U.ZP,{type:"primary",onClick:function(){return u(n,t)},children:"\u5BFC\u51FAExcel"}),children:(0,e.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{style:{background:"#f0f0f0",textAlign:"left"},children:[(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B(%)"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u56DE\u8C03\u4E70\u5165\u6BD4\u4F8B(%)"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u5E74\u5316\u6536\u76CA\u7387(%)"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u6536\u76CA\u7387(%)"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u6700\u5927\u56DE\u64A4(%)"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u4EA4\u6613\u6B21\u6570"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u6700\u7EC8\u4EF7\u503C($)"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u80A1\u7968\u6DA8\u8DCC\u5E45(%)"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u76F8\u5BF9\u80A1\u7968\u8D85\u989D\u6536\u76CA(%)"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u6307\u6570\u6DA8\u8DCC\u5E45(%)"}),(0,e.jsx)("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"\u76F8\u5BF9\u6307\u6570\u8D85\u989D\u6536\u76CA(%)"})]})}),(0,e.jsx)("tbody",{children:n.map(function(d,D){return(0,e.jsxs)("tr",{style:{borderBottom:"1px solid #ddd",background:D===0?"#f6ffed":"inherit"},children:[(0,e.jsx)("td",{style:{padding:"10px"},children:d.sellProfitPercentage===9999?"\u4E0D\u5356\u51FA":d.sellProfitPercentage.toFixed(1)}),(0,e.jsx)("td",{style:{padding:"10px"},children:d.buybackDropPercentage===9999?"\u4E0D\u4E70\u5165":d.buybackDropPercentage.toFixed(1)}),(0,e.jsx)("td",{style:{padding:"10px",color:d.annualizedReturn>=0?"#52c41a":"#f5222d"},children:d.annualizedReturn.toFixed(2)}),(0,e.jsx)("td",{style:{padding:"10px",color:d.returnRate>=0?"#52c41a":"#f5222d"},children:d.returnRate.toFixed(2)}),(0,e.jsx)("td",{style:{padding:"10px",color:"#f5222d"},children:d.maxDrawdown.toFixed(2)}),(0,e.jsx)("td",{style:{padding:"10px"},children:d.transactionCount}),(0,e.jsx)("td",{style:{padding:"10px"},children:d.finalValue.toFixed(2)}),(0,e.jsx)("td",{style:{padding:"10px",color:d.stockReturnRate>=0?"#52c41a":"#f5222d"},children:d.stockReturnRate.toFixed(2)}),(0,e.jsx)("td",{style:{padding:"10px",color:d.excessStockReturn>=0?"#52c41a":"#f5222d"},children:d.excessStockReturn.toFixed(2)}),(0,e.jsx)("td",{style:{padding:"10px",color:d.indexReturnRate>=0?"#52c41a":"#f5222d"},children:d.indexReturnRate.toFixed(2)}),(0,e.jsx)("td",{style:{padding:"10px",color:d.excessIndexReturn>=0?"#52c41a":"#f5222d"},children:d.excessIndexReturn.toFixed(2)})]},D)})})]})})},s.toString())})})]})},tu=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Z.Item,{name:"stockCode",label:"\u80A1\u7968\u4EE3\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u80A1\u7968\u4EE3\u7801"}],children:(0,e.jsx)(M.Z,{placeholder:"\u8F93\u5165\u80A1\u7968\u4EE3\u7801\uFF0C\u5982\uFF1AAAPL"})}),(0,e.jsx)(o.Z.Item,{name:"indexCode",label:"\u6307\u6570\u4EE3\u7801",initialValue:"QQQ",children:(0,e.jsx)(M.Z,{placeholder:"\u8F93\u5165\u6307\u6570\u4EE3\u7801\uFF0C\u9ED8\u8BA4\u4E3AQQQ"})}),(0,e.jsx)(o.Z.Item,{name:"initialCapital",label:"\u521D\u59CB\u8D44\u91D1(\u7F8E\u5143)",initialValue:1e5,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u521D\u59CB\u8D44\u91D1"}],children:(0,e.jsx)(y.Z,{min:1e3,style:{width:"100%"}})}),(0,e.jsx)(o.Z.Item,{name:"investAmount",label:"\u6BCF\u6B21\u5B9A\u6295\u91D1\u989D(\u7F8E\u5143)",rules:[{required:!1,message:"\u8BF7\u8F93\u5165\u6BCF\u6B21\u5B9A\u6295\u91D1\u989D"}],children:(0,e.jsx)(y.Z,{min:10,style:{width:"100%"},placeholder:"\u7559\u7A7A\u5219\u81EA\u52A8\u8BA1\u7B97\uFF1A\u521D\u59CB\u91D1\u989D*\u6700\u5927\u4F7F\u7528\u8D44\u91D1\u5360\u6BD4/\u603B\u5468\u6570"})}),(0,e.jsx)(o.Z.Item,{name:"maxInvestRatio",label:"\u6700\u5927\u4F7F\u7528\u8D44\u91D1\u5360\u6BD4",initialValue:1,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6700\u5927\u4F7F\u7528\u8D44\u91D1\u5360\u6BD4"}],children:(0,e.jsx)(y.Z,{min:.1,max:1,step:.1,style:{width:"100%"}})}),(0,e.jsx)(o.Z.Item,{label:"\u7B56\u7565\u9009\u62E9",name:"strategies",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u81F3\u5C11\u4E00\u4E2A\u7B56\u7565",type:"array",min:1}],children:(0,e.jsx)(N.Z,{mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u5B9A\u6295\u7B56\u7565",options:[{label:"\u6BCF\u5468\u5B9A\u6295",value:"WEEKLY"},{label:"\u5927\u76D8\u4E0B\u8DCC\u5B9A\u6295",value:"INDEX_DROP"},{label:"\u8FDE\u7EED\u4E0B\u8DCC\u5B9A\u6295",value:"CONSECUTIVE_DROP"},{label:"\u91D1\u5B57\u5854\u52A0\u4ED3\u6CD5(\u4E0E\u6BCF\u5468\u5B9A\u6295\u914D\u5408\u4F7F\u7528)",value:"PYRAMID"},{label:"\u4E0A\u6DA8\u51CF\u5C11\u5B9A\u6295\u7B56\u7565(\u4E0E\u6BCF\u5468\u5B9A\u6295\u914D\u5408\u4F7F\u7528)",value:"RISE_REDUCE"}]})}),(0,e.jsx)(o.Z.Item,{noStyle:!0,shouldUpdate:function(u,i){return(u==null?void 0:u.strategies)!==(i==null?void 0:i.strategies)},children:function(u){var i=u.getFieldValue,s=i("strategies")||[];return(0,e.jsxs)(e.Fragment,{children:[s.includes("INDEX_DROP")?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Z.Item,{label:"\u5927\u76D8\u4E0B\u8DCC\u5B9A\u6295\u6BCF\u5468\u6700\u5927\u6B21\u6570",name:"maxTimesPerWeek",initialValue:1,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6BCF\u5468\u6700\u5927\u6267\u884C\u6B21\u6570"}],children:(0,e.jsx)(N.Z,{placeholder:"\u8BF7\u9009\u62E9\u6BCF\u5468\u6700\u5927\u6267\u884C\u6B21\u6570",options:[{label:"\u6BCF\u54681\u6B21",value:1},{label:"\u6BCF\u54682\u6B21",value:2},{label:"\u6BCF\u54683\u6B21",value:3},{label:"\u6BCF\u54684\u6B21",value:4}]})}),(0,e.jsx)(o.Z.Item,{children:(0,e.jsx)(V.Z,{message:"\u5927\u76D8\u4E0B\u8DCC\u5B9A\u6295\u8BF4\u660E",description:"\u5927\u76D8\u4E0B\u8DCC\u5B9A\u6295\u7B56\u7565\u53EF\u4EE5\u8BBE\u7F6E\u4E0D\u540C\u7684\u4E0B\u8DCC\u5E45\u5EA6\u9608\u503C\u548C\u5BF9\u5E94\u7684\u6295\u8D44\u6BD4\u4F8B\u3002\u4F8B\u5982\uFF1A\u5F53\u5927\u76D8\u4E0B\u8DCC2.5%\u65F6\uFF0C\u6295\u5165\u521D\u59CB\u8D44\u91D1\u76841.5%\uFF1B\u4E0B\u8DCC5%\u65F6\uFF0C\u6295\u5165\u521D\u59CB\u8D44\u91D1\u76843%\u7B49\u3002\u5982\u679C\u4E0D\u8BBE\u7F6E\u6295\u8D44\u6BD4\u4F8B\uFF0C\u5C06\u4F7F\u7528\u56FA\u5B9A\u7684\u5B9A\u6295\u91D1\u989D\u3002",type:"info",showIcon:!0})}),(0,e.jsx)(o.Z.Item,{name:"indexDropRanges",label:"\u5927\u76D8\u4E0B\u8DCC\u5206\u6863\u8BBE\u7F6E(%)",initialValue:"1.8",tooltip:"\u8BBE\u7F6E\u591A\u4E2A\u4E0B\u8DCC\u5E45\u5EA6\u9608\u503C\uFF0C\u7528\u9017\u53F7\u5206\u9694\u3002\u4F8B\u5982\uFF1A1,2.5,5,7.5,10\u8868\u793A\u8BBE\u7F6E5\u4E2A\u5206\u6863\uFF0C\u5206\u522B\u5728\u4E0B\u8DCC1%,2.5%,5%,7.5%,10%\u65F6\u89E6\u53D1\u4E0D\u540C\u6295\u8D44\u6BD4\u4F8B",children:(0,e.jsx)(M.Z,{placeholder:"\u4F8B\u5982\uFF1A1,2.5,5,7.5,10"})}),(0,e.jsx)(o.Z.Item,{name:"indexDropInvestRatios",label:"\u5927\u76D8\u4E0B\u8DCC\u6295\u8D44\u6BD4\u4F8B\u8BBE\u7F6E(%)",tooltip:"\u8BBE\u7F6E\u5404\u6863\u4F4D\u7684\u6295\u8D44\u6BD4\u4F8B\uFF0C\u4E0E\u4E0B\u8DCC\u5206\u6863\u4E00\u4E00\u5BF9\u5E94\uFF0C\u7528\u9017\u53F7\u5206\u9694\u3002\u4F8B\u5982\uFF1A0.5,1.5,3,5,8\u8868\u793A\u57285\u4E2A\u5206\u6863\u5206\u522B\u6295\u5165\u521D\u59CB\u8D44\u91D1\u76840.5%,1.5%,3%,5%,8%\u3002\u7559\u7A7A\u5219\u4F7F\u7528\u56FA\u5B9A\u5B9A\u6295\u91D1\u989D\u3002",children:(0,e.jsx)(M.Z,{placeholder:"\u4F8B\u5982\uFF1A0.5,1.5,3,5,8\uFF08\u7559\u7A7A\u5219\u4F7F\u7528\u56FA\u5B9A\u5B9A\u6295\u91D1\u989D\uFF09"})})]}):null,s.includes("PYRAMID")?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Z.Item,{children:(0,e.jsx)(V.Z,{message:"\u91D1\u5B57\u5854\u52A0\u4ED3\u8BF4\u660E",description:"\u91D1\u5B57\u5854\u52A0\u4ED3\u6CD5\u662F\u5728\u6BCF\u5468\u5B9A\u6295\u7684\u57FA\u7840\u4E0A\uFF0C\u6839\u636E\u5927\u76D8\u4E0B\u8DCC\u5E45\u5EA6\u589E\u52A0\u6295\u8D44\u91D1\u989D\u7684\u7B56\u7565\uFF0C\u800C\u4E0D\u662F\u72EC\u7ACB\u89E6\u53D1\u4E00\u6B21\u5B9A\u6295\u3002\u9009\u62E9\u6B64\u7B56\u7565\u4F1A\u81EA\u52A8\u542F\u7528\u6BCF\u5468\u5B9A\u6295\u3002",type:"info",showIcon:!0})}),(0,e.jsx)(o.Z.Item,{name:"pyramidDropRanges",label:"\u91D1\u5B57\u5854\u52A0\u4ED3\u4E0B\u8DCC\u5206\u6863\u8BBE\u7F6E(%)",initialValue:"5,8,11,14,17",tooltip:"\u8BBE\u7F6E\u591A\u4E2A\u4E0B\u8DCC\u5E45\u5EA6\u9608\u503C\uFF0C\u7528\u9017\u53F7\u5206\u9694\u3002\u4F8B\u5982\uFF1A5,8,11,14,17\u8868\u793A\u8BBE\u7F6E5\u4E2A\u5206\u6863\uFF0C\u5206\u522B\u5728\u4E0B\u8DCC5%,8%,11%,14%,17%\u65F6\u89E6\u53D1\u4E0D\u540C\u52A0\u4ED3\u6BD4\u4F8B",children:(0,e.jsx)(M.Z,{placeholder:"\u4F8B\u5982\uFF1A5,8,11,14,17"})}),(0,e.jsx)(o.Z.Item,{name:"pyramidInvestRatios",label:"\u91D1\u5B57\u5854\u52A0\u4ED3\u6BD4\u4F8B\u8BBE\u7F6E(%)",initialValue:"30,50,80,120,200",tooltip:"\u8BBE\u7F6E\u5404\u6863\u4F4D\u7684\u52A0\u4ED3\u6BD4\u4F8B\uFF0C\u4E0E\u4E0B\u8DCC\u5206\u6863\u4E00\u4E00\u5BF9\u5E94\uFF0C\u7528\u9017\u53F7\u5206\u9694\u3002\u4F8B\u5982\uFF1A30,50,80,120,200\u8868\u793A\u57285\u4E2A\u5206\u6863\u5206\u522B\u52A0\u4ED330%,50%,80%,120%,200%",children:(0,e.jsx)(M.Z,{placeholder:"\u4F8B\u5982\uFF1A30,50,80,120,200"})})]}):null,s.includes("RISE_REDUCE")?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Z.Item,{children:(0,e.jsx)(V.Z,{message:"\u4E0A\u6DA8\u51CF\u5C11\u5B9A\u6295\u7B56\u7565\u8BF4\u660E",description:"\u4E0A\u6DA8\u51CF\u5C11\u5B9A\u6295\u7B56\u7565\u662F\u5728\u6BCF\u5468\u5B9A\u6295\u7684\u57FA\u7840\u4E0A\uFF0C\u6839\u636E\u5927\u76D8\u4E0A\u6DA8\u5E45\u5EA6\u51CF\u5C11\u6295\u8D44\u91D1\u989D\u7684\u7B56\u7565\uFF0C\u800C\u4E0D\u662F\u72EC\u7ACB\u89E6\u53D1\u4E00\u6B21\u5B9A\u6295\u3002\u9009\u62E9\u6B64\u7B56\u7565\u4F1A\u81EA\u52A8\u542F\u7528\u6BCF\u5468\u5B9A\u6295\u3002",type:"info",showIcon:!0})}),(0,e.jsx)(o.Z.Item,{name:"riseReduceRanges",label:"\u4E0A\u6DA8\u51CF\u5C11\u5B9A\u6295\u4E0A\u6DA8\u5206\u6863\u8BBE\u7F6E(%)",initialValue:"5,8,11,14,17",tooltip:"\u8BBE\u7F6E\u591A\u4E2A\u4E0A\u6DA8\u5E45\u5EA6\u9608\u503C\uFF0C\u7528\u9017\u53F7\u5206\u9694\u3002\u4F8B\u5982\uFF1A5,8,11,14,17\u8868\u793A\u8BBE\u7F6E5\u4E2A\u5206\u6863\uFF0C\u5206\u522B\u5728\u4E0A\u6DA85%,8%,11%,14%,17%\u65F6\u89E6\u53D1\u4E0D\u540C\u51CF\u5C11\u5B9A\u6295\u6BD4\u4F8B",children:(0,e.jsx)(M.Z,{placeholder:"\u4F8B\u5982\uFF1A5,8,11,14,17"})}),(0,e.jsx)(o.Z.Item,{name:"riseReduceRatios",label:"\u4E0A\u6DA8\u51CF\u5C11\u5B9A\u6295\u6BD4\u4F8B\u8BBE\u7F6E(%)",initialValue:"30,50,80,120,200",tooltip:"\u8BBE\u7F6E\u5404\u6863\u4F4D\u7684\u51CF\u5C11\u5B9A\u6295\u6BD4\u4F8B\uFF0C\u4E0E\u4E0A\u6DA8\u5206\u6863\u4E00\u4E00\u5BF9\u5E94\uFF0C\u7528\u9017\u53F7\u5206\u9694\u3002\u4F8B\u5982\uFF1A30,50,80,120,200\u8868\u793A\u57285\u4E2A\u5206\u6863\u5206\u522B\u51CF\u5C11\u5B9A\u629530%,50%,80%,120%,200%",children:(0,e.jsx)(M.Z,{placeholder:"\u4F8B\u5982\uFF1A30,50,80,120,200"})})]}):null]})}}),(0,e.jsx)(o.Z.List,{name:"dateRanges",children:function(u,i){var s=i.add,t=i.remove;return(0,e.jsxs)(e.Fragment,{children:[u.map(function(n,d){return(0,e.jsx)(o.Z.Item,{required:!1,label:d===0?"\u56DE\u6D4B\u65F6\u95F4\u8303\u56F4":"",extra:d===0?"\u53EF\u4EE5\u6DFB\u52A0\u591A\u4E2A\u65F6\u95F4\u8303\u56F4\u8FDB\u884C\u5BF9\u6BD4":"",children:(0,e.jsxs)(ue.Z,{align:"baseline",children:[(0,e.jsx)(o.Z.Item,ee()(ee()({},n),{},{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u56DE\u6D4B\u65F6\u95F4\u8303\u56F4"},{validator:function(){var D=T()(C()().mark(function A(h,g){return C()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(!g||!g[0]||!g[1])){f.next=2;break}return f.abrupt("return",Promise.reject("\u8BF7\u9009\u62E9\u5B8C\u6574\u7684\u65F6\u95F4\u8303\u56F4"));case 2:if(!g[0].isAfter(g[1])){f.next=4;break}return f.abrupt("return",Promise.reject("\u5F00\u59CB\u65F6\u95F4\u4E0D\u80FD\u665A\u4E8E\u7ED3\u675F\u65F6\u95F4"));case 4:return f.abrupt("return",Promise.resolve());case 5:case"end":return f.stop()}},A)}));function F(A,h){return D.apply(this,arguments)}return F}()}],noStyle:!0,children:(0,e.jsx)(Me,{style:{width:"100%"},disabledDate:function(F){return F&&F<a()("2015-04-01")},ranges:{\u8FD11\u5E74:[a()().subtract(1,"year").startOf("year"),a()().subtract(1,"year").endOf("year")],\u8FD13\u5E74:[a()().subtract(3,"year").startOf("year"),a()().subtract(1,"year").endOf("year")],\u8FD15\u5E74:[a()().subtract(5,"year").startOf("year"),a()().subtract(1,"year").endOf("year")],"\u7279\u6717\u666E\u5EFA\u56FD(20170120-20210120)":[a()("2017-01-20"),a()("2021-01-20")],"2021-2023":[a()("2021-01-01"),a()("2023-12-31")],"2020-2022":[a()("2020-01-01"),a()("2022-12-31")],"2019-2021":[a()("2019-01-01"),a()("2021-12-31")],"2018-2020":[a()("2018-01-01"),a()("2020-12-31")],"2017-2019":[a()("2017-01-01"),a()("2019-12-31")],"2016-2018":[a()("2016-01-01"),a()("2018-12-31")]}})})),u.length>1&&(0,e.jsx)(ve.Z,{onClick:function(){return t(n.name)}})]})},n.key)}),j==="optimize"&&(0,e.jsx)(o.Z.Item,{children:(0,e.jsx)(U.ZP,{type:"dashed",onClick:function(){return s()},block:!0,icon:(0,e.jsx)(Pe.Z,{}),children:"\u6DFB\u52A0\u65F6\u95F4\u8303\u56F4"})})]})}}),j==="single"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Z.Item,{name:"sellProfitPercentage",label:"\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B(%)",initialValue:20,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B"}],children:(0,e.jsx)(y.Z,{min:0,style:{width:"100%"}})}),(0,e.jsx)(o.Z.Item,{name:"buybackDropPercentage",label:"\u56DE\u8C03\u4E70\u5165\u6BD4\u4F8B(%)",initialValue:10,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u56DE\u8C03\u4E70\u5165\u6BD4\u4F8B"}],children:(0,e.jsx)(y.Z,{min:0,style:{width:"100%"}})})]}):j==="optimize"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Z.Item,{name:"sellProfitRangeStart",label:"\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B\u8D77\u59CB\u503C(%)",initialValue:10,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B\u8D77\u59CB\u503C"}],children:(0,e.jsx)(y.Z,{min:0,style:{width:"100%"}})}),(0,e.jsx)(o.Z.Item,{name:"sellProfitRangeEnd",label:"\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B\u7ED3\u675F\u503C(%)",initialValue:100,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B\u7ED3\u675F\u503C"}],children:(0,e.jsx)(y.Z,{min:0,style:{width:"100%"}})}),(0,e.jsx)(o.Z.Item,{name:"sellProfitStep",label:"\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B\u6B65\u957F(%)",initialValue:5,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5356\u51FA\u76C8\u5229\u6BD4\u4F8B\u6B65\u957F"}],children:(0,e.jsx)(y.Z,{min:1,style:{width:"100%"}})}),(0,e.jsx)(o.Z.Item,{name:"buybackRangeStart",label:"\u56DE\u8C03\u4E70\u5165\u6BD4\u4F8B\u8D77\u59CB\u503C(%)",initialValue:5,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u56DE\u8C03\u4E70\u5165\u6BD4\u4F8B\u8D77\u59CB\u503C"}],children:(0,e.jsx)(y.Z,{min:0,style:{width:"100%"}})}),(0,e.jsx)(o.Z.Item,{name:"buybackRangeEnd",label:"\u56DE\u8C03\u4E70\u5165\u6BD4\u4F8B\u7ED3\u675F\u503C(%)",initialValue:40,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u56DE\u8C03\u4E70\u5165\u6BD4\u4F8B\u7ED3\u675F\u503C"}],children:(0,e.jsx)(y.Z,{min:0,style:{width:"100%"}})}),(0,e.jsx)(o.Z.Item,{name:"buybackStep",label:"\u56DE\u8C03\u4E70\u5165\u6BD4\u4F8B\u6B65\u957F(%)",initialValue:2.5,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u56DE\u8C03\u4E70\u5165\u6BD4\u4F8B\u6B65\u957F"}],children:(0,e.jsx)(y.Z,{min:.5,style:{width:"100%"}})})]}):null]})},ru=function(){return(0,e.jsx)(o.Z.Item,{children:(0,e.jsx)(ue.Z,{children:(0,e.jsx)(U.ZP,{type:"primary",onClick:function(){var u=I.current;u&&u.validateFields().then(function(i){xe(i)}).catch(function(i){var s=i.errorFields;console.error("\u8868\u5355\u9A8C\u8BC1\u5931\u8D25:",s),x.ZP.error("\u8BF7\u68C0\u67E5\u8868\u5355\u586B\u5199\u662F\u5426\u6B63\u786E")})},loading:ie,children:j==="single"?"\u6267\u884C\u56DE\u6D4B":"\u6700\u4F18\u53C2\u6570\u56DE\u6D4B"})})})};return(0,e.jsxs)(ye._z,{children:[(0,e.jsxs)("div",{style:{marginBottom:16,padding:"16px 24px",background:"#f5f5f5",borderRadius:"4px"},children:[(0,e.jsx)("p",{style:{marginBottom:8,fontWeight:"bold"},children:"\u5B9A\u6295\u7B56\u7565\u56DE\u6D4B\u8BF4\u660E\uFF1A"}),(0,e.jsx)("p",{style:{marginBottom:8,paddingLeft:16},children:"1. \u6BCF\u5468\u5B9A\u6295\uFF1A\u6BCF\u5468\u4E94\u6536\u76D8\u5BF9\u5B9A\u6295\u80A1\u7968\u8FDB\u884C\u4E70\u5165"}),(0,e.jsx)("p",{style:{marginBottom:8,paddingLeft:16},children:"2. \u5927\u76D8\u4E0B\u8DCC\u5B9A\u6295\uFF1A\u5468\u4E00\u5230\u5468\u56DB\uFF0C\u5927\u76D8\u6307\u6570\u4E0B\u8DCC1.8%\u65F6\u4E70\u5165"}),(0,e.jsx)("p",{style:{marginBottom:8,paddingLeft:16},children:"3. \u8FDE\u7EED\u4E0B\u8DCC\u5B9A\u6295\uFF1A\u5468\u4E00\u5230\u5468\u56DB\u8FDE\u7EED\u4E0B\u8DCC\u65F6\uFF0C\u5468\u56DB\u6536\u76D8\u4E70\u5165"}),(0,e.jsx)("p",{style:{marginBottom:8,paddingLeft:16},children:"4. \u53EF\u4EE5\u8BBE\u7F6E\u76C8\u5229\u591A\u5C11\u5356\u51FA\u4EE5\u53CA\u56DE\u8C03\u591A\u5C11\u4E70\u56DE\u7684\u7B56\u7565\u8FDB\u884C\u56DE\u6D4B"}),(0,e.jsx)("p",{style:{marginBottom:8,paddingLeft:16},children:"5. \u6700\u4F18\u53C2\u6570\u56DE\u6D4B\u529F\u80FD\u53EF\u5C1D\u8BD5\u4E0D\u540C\u7684\u5356\u51FA\u53CA\u56DE\u8C03\u6BD4\u4F8B\uFF0C\u627E\u51FA\u6700\u4F73\u7EC4\u5408"}),(0,e.jsx)("p",{style:{paddingLeft:16},children:"6. \u56DE\u6D4B\u6570\u636E\u53EF\u7528\u65F6\u95F4\u8303\u56F4\uFF1A2015\u5E744\u67081\u65E5\u81F3\u4ECA"})]}),(0,e.jsxs)(v.Z,{style:{marginBottom:24},children:[(0,e.jsxs)(Q.ZP.Group,{value:j,onChange:function(p){Ze(p.target.value),J("0"),L([]),w({})},style:{marginBottom:16},children:[(0,e.jsx)(Q.ZP.Button,{value:"single",children:"\u5355\u4E00\u7B56\u7565\u56DE\u6D4B"}),(0,e.jsx)(Q.ZP.Button,{value:"optimize",children:"\u6700\u4F18\u53C2\u6570\u56DE\u6D4B"})]}),(0,e.jsxs)(o.Z,{form:H,ref:I,layout:"vertical",onFinish:xe,initialValues:{initialCapital:1e5,maxInvestRatio:1,indexCode:"QQQ",sellProfitPercentage:20,buybackDropPercentage:10,sellProfitRangeStart:10,sellProfitRangeEnd:100,sellProfitStep:5,buybackRangeStart:5,buybackRangeEnd:50,buybackStep:2.5,strategies:["WEEKLY","INDEX_DROP","CONSECUTIVE_DROP"],dateRanges:[[a()().subtract(3,"year").startOf("year"),a()().subtract(1,"year").endOf("year")]]},children:[tu(),ru()]})]}),(0,e.jsxs)(Re.Z,{spinning:ie,children:[j==="single"&&qe(),j==="optimize"&&uu(),j==="compare"&&eu()]})]})};q.default=Ye},20067:function(){}}]);
